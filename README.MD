## Домашнее задание (HW-04) Модуль 22.
Автор: Александр Климок / [kydechuk01](https://github.com/kydechuk01/)
<br>Дата: 20.02.2025

### В работе использованы:
- HTML5, JS, CSS, Markdown
- Git via [github.com](https://github.com)
- Редактор VSCode

<br>

## Задание 1. Изобразить с помощью элементов SVG флаги пяти стран: Россия, Франция, Финляндия, Швейцария, Япония 

**Ссылка на задание:** [mod22_3_task1_svg.html](mod22_3_task1_svg.html)

**Ссылка на pages:** [https://kydechuk01.github.io/module22_homework/mod22_3_task1_svg.html](https://kydechuk01.github.io/module22_homework/mod22_3_task1_svg.html)

**Текст задания:**
>Изобразить с помощью элементов SVG флаги пяти стран: Россия, Франция, Финляндия, Швейцария, Япония.<br>
>Каждый SVG-элемент с флагом должен иметь размер 180 на 120 пикселей.

**Достигнутые результаты:**
- Поставленные задачи выполнены
- Размеры флагов и базовые цвета заданы через CSS-переменные, от них же далее проводятся соответствующие математические вычисления
- Все параметры флага (цвета, размеры и расположение полос) указываются не в коде `<svg>`, а через CSS-классы.
- В качестве разминки было разработано гибкое решение, позволяющее при необходимости быстро воссоздать любые трехцветные флаги, причем как с горизонтальными полосами (Россия), так и с вертикальными (Франция) полосами.

<br>

## Задание 2. Динамическая смена SVG-иконки на кнопке после нажатия

**Ссылка на задание:** [mod22_3_task2_svg_icon_dynamic.html](mod22_3_task2_svg_icon_dynamic.html)

**Ссылка на pages:** [https://kydechuk01.github.io/module22_homework/mod22_3_task2_svg_icon_dynamic.html](https://kydechuk01.github.io/module22_homework/mod22_3_task2_svg_icon_dynamic.html)

**Текст задания:**
>Сверстайте кнопку, которая будет содержать в себе icon_01 (как в примере в последнем видео).
>При клике на кнопку иконка должна меняться на icon_02. Повторный клик меняет иконку обратно.

**Достигнутые результаты:**
- Поставленные задачи выполнены
- Реализована смена иконки и надписи на кнопке по нажатию
- Для повышения наглядности через `setTimeout()` добавлен автоматический откат состояния кнопки (Запрос > Ожидание данных) в исходное состояние через 1 секунду.
<br>

## Задание 3. Определение размеров экрана и координат пользователя

**Ссылка на задание:** [mod22_5_task3_geo.html](mod22_5_task3_geo.html)

**Ссылка на pages:** [https://kydechuk01.github.io/module22_homework/mod22_5_task3_geo.html](https://kydechuk01.github.io/module22_homework/mod22_5_task3_geo.html)

**Текст задания:**
> Сверстайте кнопку, клик на которую будет выводить на экран следующие данные:<br>
            1. Размеры экрана пользователя (ширина и высота).<br>
            2. Координаты местонахождения пользователя.<br>
            Если пользователь отказался дать доступ к местоположению или данная функция недоступна в браузере, вывести вместо координат сообщение «Информация о местоположении недоступна».

**Достигнутые результаты:**      
- Поставленные задачи выполнены
- Реализован более расширенный обработчик возможных ошибок при определении геолокации.
- Добавлен дополнительный таймлимит в 3 сек для определения геолокации, т.к. на практике иногда определение зависает на неопределенный срок, не выводя при этом ошибку со статусом error.TIMEOUT.

<br>

## Задание 4. Определение локального времени пользователя через Timezone API

**Ссылка на задание:** [mod22_5_task4_geo.html](mod22_5_task4_geo.html)

**Ссылка на pages:**  [https://kydechuk01.github.io/module22_homework/mod22_5_task4_geo.html](https://kydechuk01.github.io/module22_homework/mod22_5_task4_geo.html)

**Текст задания:**
> Cверстайте кнопку, по клику на которую будет отправляться запрос к Timezone API. В запросе нужно отправить координаты местоположения пользователя, полученные с помощью Geolocation API. В ответ на запрос придёт объект, из которого нужно вывести на экран следующую информацию:
> - временная зона, в которой находится пользователь: параметр timezone;
> - местные дата и время: параметр date_time_txt

**Достигнутые результаты:** 
- Поставленные задачи выполнены
- В качестве сервиса определения локальной таймзоны использован сервис https://api.ipgeolocation.io

<br>

## Задание 5. Создание чата с эхо-сервером на базе технологии websocket

**Ссылка на задание:** [mod22_6_task5_websocket.html ](mod22_6_task5_websocket.html)

**Ссылка на pages:** [https://kydechuk01.github.io/module22_homework/mod22_6_task5_websocket.html](https://kydechuk01.github.io/module22_homework/mod22_6_task5_websocket.html)

Текст задания:
>  1. Реализовать чат на основе эхо-сервера wss://echo-ws-service.herokuapp.com/
>  Интерфейс состоит из input, куда вводится текст сообщения, и кнопки «Отправить».
>  При клике на кнопку «Отправить» сообщение должно появляться в окне переписки.
>  Эхо-сервер будет отвечать вам тем же сообщением, его также необходимо выводить в чат:
> 2. Добавить в чат механизм отправки гео-локации. При клике на кнопку «Гео-локация» необходимо отправить данные серверу и в чат  вывести ссылку на https://www.openstreetmap.org/ с вашей гео-локацией.
> Сообщение, которое отправит обратно эхо-сервер, не выводить.

**Достигнутые результаты:**
- Поставленные задачи выполнены
- Для проверки работы технологии Websocket выбран эхо-сервер (wss://echo.websocket.org/) вместо указанного в задании, т.к. на момент проверки сервер wss://echo-ws-service.herokuapp.com/ не работал
- Для окна чата задан ограниченный размер с прокруткой содержимого. При добавлении новых сообщений происходит автопрокрутка окна чата к последнему сообщению.
- Для сообщений введен тип "источник сообщения" (удаленный, локальный), в соответствии с которым выбирается стиль вывода сообщений на экран (расположение справа - для наших сообщений, а слева - для ответов сервера)
- Добавлена валидация пустых строк и строк, состоящих из множественых пробелов. Отправка таких сообщений блокируется, строка ввода при этом очищается
- При закрытии вебсокета приложение отключает кнопки отправки новых сообщений и геометки и выводит соответствующий статус в заголовок чата.
- Добавлена кнопка отправки в чат ссылки на карту с ресурса http://www.openstreetmap.org заданной с геометкой пользователя (с пропуском дублирующего ответа от эхо-сервера). Если геолокация недоступна, выводится соответствующее сообщение в чат (на чат-сервер оно не отправляется)